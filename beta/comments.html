
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Comments &mdash; Socialize iOS SDK 2.0beta1 documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0beta1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="top" title="Socialize iOS SDK 2.0beta1 documentation" href="index.html" />
    <link rel="next" title="Likes" href="likes.html" />
    <link rel="prev" title="Sharing" href="sharing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="likes.html" title="Likes"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="sharing.html" title="Sharing"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Socialize iOS SDK 2.0beta1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <script type="text/javascript" charset="utf-8">
  var is_ssl = ("https:" == document.location.protocol);
  var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
  document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript" charset="utf-8">
  var feedback_widget_options = {};

  feedback_widget_options.display = "overlay";
  feedback_widget_options.company = "socialize";
  feedback_widget_options.placement = "right";
  feedback_widget_options.color = "#222";
  feedback_widget_options.style = "idea";
  feedback_widget_options.product = "socialize_ios_sdk";
  feedback_widget_options.tag = "Feedback";

  feedback_widget_options.limit = "3";

  GSFN.feedback_widget.prototype.local_base_url = "http://support.getsocialize.com";
  GSFN.feedback_widget.prototype.local_ssl_base_url = "http://support.getsocialize.com";

  var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
</script><div class="section" id="comments">
<h1>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ui-elements">
<h2>UI Elements<a class="headerlink" href="#ui-elements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="comments-list">
<h3>Comments List<a class="headerlink" href="#comments-list" title="Permalink to this headline">¶</a></h3>
<p>The standard Socialize Comment List UI is included with the Socialize Action
Bar however if you wanted to create your own ActionBar or simply want to launch
the Comment List from elsewhere in your app this can simply be done with a few
lines of code</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">showCommentsList</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">showCommentsListWithViewController:</span><span class="n">self</span> <span class="nl">entity:</span><span class="n">entity</span> <span class="nl">completion:</span><span class="nb">nil</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="images/comments_list.png" src="images/comments_list.png" />
<img alt="images/comment_details.png" src="images/comment_details.png" />
</div>
<div class="section" id="comment-composer">
<h3>Comment Composer<a class="headerlink" href="#comment-composer" title="Permalink to this headline">¶</a></h3>
<p>Although the comments list opens a composer, a standalone comment composition
controller is also provided:</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">showCommentComposer</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">showCommentComposerWithViewController:</span><span class="n">self</span> <span class="nl">entity:</span><span class="n">entity</span> <span class="nl">completion:</span><span class="o">^</span><span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="n">SZComment</span><span class="o">&gt;</span> <span class="n">comment</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Created comment: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">comment</span> <span class="n">text</span><span class="p">]);</span>
    <span class="p">}</span> <span class="nl">cancellation:</span><span class="o">^</span><span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Cancelled comment create&quot;</span><span class="p">);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
<img alt="images/comment_composer.png" src="images/comment_composer.png" />
<img alt="images/select_network.png" src="images/select_network.png" />
</div>
</div>
<div class="section" id="working-with-comments">
<h2>Working with comments<a class="headerlink" href="#working-with-comments" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-comments-specify-networks">
<h3>Creating Comments, specify networks<a class="headerlink" href="#creating-comments-specify-networks" title="Permalink to this headline">¶</a></h3>
<p>To create a comment programmatically you simply call the <strong>addComment</strong> method
on <strong>CommentUtils</strong></p>
<p>Similar to shares, you can specify how the comment is to be propagated to 3rd party
networks (currently, customization is only possible for Facebook)</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">addComment</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>
    
    <span class="n">SZCommentOptions</span> <span class="o">*</span><span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="n">userCommentOptions</span><span class="p">];</span>
    <span class="n">options</span><span class="p">.</span><span class="n">willPostToSocialNetworkBlock</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="n">SZSocialNetwork</span> <span class="n">network</span><span class="p">,</span> <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">params</span> <span class="nl">setObject:</span><span class="s">@&quot;Custom message&quot;</span> <span class="nl">forKey:</span><span class="s">@&quot;message&quot;</span><span class="p">];</span>
    <span class="p">};</span>
    
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">addCommentWithEntity:</span><span class="n">entity</span> <span class="nl">text:</span><span class="s">@&quot;A Comment!&quot;</span> <span class="nl">options:</span><span class="n">options</span> <span class="nl">networks:</span><span class="n">SZAvailableSocialNetworks</span><span class="p">()</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="n">SZComment</span><span class="o">&gt;</span> <span class="n">comment</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Created comment: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">comment</span> <span class="n">text</span><span class="p">]);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed creating comment: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="create-comment-prompt-for-networks">
<h3>Create comment, prompt for networks<a class="headerlink" href="#create-comment-prompt-for-networks" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;d to create a comment and specify text but not networks, you can do so.
You might use this to build your own comment composer but still show the
Socialize network selection dialog.</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">addCommentPromptForNetworks</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>
    
    <span class="n">SZCommentOptions</span> <span class="o">*</span><span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="n">userCommentOptions</span><span class="p">];</span>
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">addCommentWithViewController:</span><span class="n">self</span> <span class="nl">entity:</span><span class="n">entity</span> <span class="nl">text:</span><span class="s">@&quot;A comment!&quot;</span> <span class="nl">options:</span><span class="n">options</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="n">SZComment</span><span class="o">&gt;</span> <span class="n">comment</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Created comment: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">comment</span> <span class="n">text</span><span class="p">]);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed creating comment: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-comments">
<h3>Retrieving Comments<a class="headerlink" href="#retrieving-comments" title="Permalink to this headline">¶</a></h3>
<p>You can retrieve existing comments by User, Entity or directly using an ID</p>
<p>List comments by User</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">listCommentsByUser</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">getCommentsByUser:</span><span class="nb">nil</span> <span class="nl">first:</span><span class="nb">nil</span> <span class="nl">last:</span><span class="nb">nil</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">comments</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched comments: %@&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="p">);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>List comments by Entity</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">listCommentsByEntity</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>
    
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">getCommentsByEntity:</span><span class="n">entity</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">comments</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched comments: %@&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="p">);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>List comments by User on a specific entity</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">listCommentsByUserAndEntity</span> <span class="p">{</span>
    <span class="n">SZEntity</span> <span class="o">*</span><span class="n">entity</span> <span class="o">=</span> <span class="p">[</span><span class="n">SZEntity</span> <span class="nl">entityWithKey:</span><span class="s">@&quot;some_key&quot;</span> <span class="nl">name:</span><span class="s">@&quot;Something&quot;</span><span class="p">];</span>

    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">getCommentsByUser:</span><span class="n">USER_ADDR_NULL</span> <span class="nl">entity:</span><span class="n">entity</span> <span class="nl">first:</span><span class="nb">nil</span> <span class="nl">last:</span><span class="nb">nil</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">comments</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched comments: %@&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="p">);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>List comments by ID</p>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">listCommentsByIds</span> <span class="p">{</span>
    
    <span class="c1">// I&#39;ve stashed these ids somewhere</span>
    <span class="n">NSArray</span> <span class="o">*</span><span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSArray</span> <span class="nl">arrayWithObjects:</span><span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInteger:</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInteger:</span><span class="mi">1</span><span class="p">],</span> <span class="nb">nil</span><span class="p">];</span>
    
    <span class="p">[</span><span class="n">SZCommentUtils</span> <span class="nl">getCommentsWithIds:</span><span class="n">ids</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">comments</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched comments: %@&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="p">);</span>
    <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Failed: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]);</span>
    <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_bar.html">Socialize Action Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="like_button.html">Socialize Like Button</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter.html">Twitter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook.html">Facebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="push_notifications.html">Enabling SmartAlerts™ Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html">Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html">Activity (Social Actions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Sharing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Comments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ui-elements">UI Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-comments">Working with comments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="likes.html">Likes</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui_advanced.html">Advanced UI Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_pro_tips.html">SDK Pro Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="likes.html" title="Likes"
             >next</a></li>
        <li class="right" >
          <a href="sharing.html" title="Sharing"
             >previous</a> |</li>
        <li><a href="index.html">Socialize iOS SDK 2.0beta1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Socialize Inc.
    </div>
  </body>
</html>